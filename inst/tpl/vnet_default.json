{
    "apiVersion": "2018-11-01",
    "type": "Microsoft.Network/virtualNetworks",
    "name": "[variables('vnetName')]",
    "location": "[variables('location')]",
    "dependsOn": [
        "[variables('nsgRef')]"
    ],
    "properties": {
        "addressSpace": {
            "addressPrefixes": [
                "10.0.0.0/16"
            ]
        },
        "subnets": [
            {
                "name": "[variables('subnet')]",
                "properties": {
                    "networkSecurityGroup": {
                        "id": "[variables('nsgId')]"
                    },
                    "addressPrefix": "10.0.0.0/24"
                }
            }
        ]
    }
}
